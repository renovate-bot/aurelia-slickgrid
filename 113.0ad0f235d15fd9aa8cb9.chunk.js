"use strict";(self.webpackChunkaurelia_slickgrid=self.webpackChunkaurelia_slickgrid||[]).push([[113],{44597:(t,e,r)=>{r.d(e,{Z:()=>o});var n=r(8081),i=r.n(n),s=r(23645),a=r.n(s)()(i());a.push([t.id,".tab-content{padding:10px}",""]);const o=a},57113:(t,e,r)=>{r.r(e),r.d(e,{Example22:()=>T});var n={};r.r(n),r.d(n,{default:()=>c,dependencies:()=>d,name:()=>o,register:()=>u,template:()=>l});var i=r(97582),s=r(71542),a=r(44597);const o="example22",l='<template>\n  <h2>\n    ${title}\n    <span class="float-end">\n      <a style="font-size: 18px"\n         target="_blank"\n         href="https://github.com/ghiscoding/aurelia-slickgrid/blob/master/src/examples/slickgrid/example22.ts">\n        <span class="fa fa-link"></span> code\n      </a>\n    </span>\n  </h2>\n  <div class="subtitle"\n       innerhtml.bind="subTitle"></div>\n\n  <div>\n    <nav>\n      <div class="nav nav-tabs" id="nav-tab" role="tablist">\n        <button\n            class="nav-link active"\n            id="javascript-tab"\n            data-bs-toggle="tab"\n            data-bs-target="#javascript"\n            type="button"\n            role="tab"\n            aria-controls="javascript"\n            aria-selected="true">\n          JavaScript\n        </button>\n        <button\n            class="nav-link"\n            id="fetch-tab"\n            data-bs-toggle="tab"\n            data-bs-target="#fetch"\n            type="button"\n            role="tab"\n            aria-controls="fetch"\n            aria-selected="false"\n            click.trigger="resizeGrid2()">\n          Fetch-Client\n        </button>\n      </div>\n    </nav>\n    <div class="tab-content" id="nav-tabContent">\n      <div class="tab-pane fade show active" id="javascript" role="tabpanel" aria-labelledby="javascript-tab" tabindex="0">\n        <h4>Grid 1 - Load Local Data</h4>\n        <aurelia-slickgrid grid-id="grid1"\n                           column-definitions.bind="columnDefinitions1"\n                           grid-options.bind="gridOptions1"\n                           dataset.bind="dataset1">\n        </aurelia-slickgrid>\n      </div>\n      <div class="tab-pane fade" id="fetch" role="tabpanel" aria-labelledby="fetch-tab" tabindex="0">\n        <h4>Grid 2 - Load a JSON dataset through Fetch-Client</h4>\n        <aurelia-slickgrid grid-id="grid2"\n                           column-definitions.bind="columnDefinitions2"\n                           grid-options.bind="gridOptions2"\n                           dataset.bind="dataset2"\n                           on-aurelia-grid-created.trigger="aureliaGrid2Ready($event.detail)">\n        </aurelia-slickgrid>\n      </div>\n    </div>\n  </div>\n\n</template>\n',c=l,d=[];let h;function u(t){h||(h=s.b_N.define({name:o,template:l,dependencies:d})),t.register(h)}var p=r(96340),f=r(39344),b=r(33067),y=r(93379),g=r.n(y),m=r(7795),v=r.n(m),w=r(90569),R=r.n(w),C=r(3565),O=r.n(C),q=r(19216),k=r.n(q),E=r(44589),j=r.n(E),P={};P.styleTagTransform=j(),P.setAttributes=O(),P.insert=R().bind(null,"head"),P.domAPI=v(),P.insertStyleElement=k(),g()(a.Z,P),a.Z&&a.Z.locals&&a.Z.locals,r(31932);let T=class{constructor(t){this.http=t,this.title="Example 22: Grids in Bootstrap Tabs",this.subTitle='This example demonstrate the creation of multiple grids in Bootstrap Tabs\n   <ol>\n    <li>Regular mocked data with javascript</li>\n    <li>Load dataset through Fetch-Client. Also note we need to call a "resizeGrid()" after focusing on this tab</li>\n  </ol>',this.columnDefinitions1=[],this.columnDefinitions2=[],this.dataset1=[],this.dataset2=[],this.defineGrid1(),this.defineGrid2()}aureliaGrid2Ready(t){this.aureliaGrid2=t}async attached(){this.dataset1=this.mockData();const t=await this.http.fetch("assets/data/customers_100.json");this.dataset2=await t.json()}defineGrid1(){this.columnDefinitions1=[{id:"title",name:"Title",field:"title",sortable:!0,minWidth:100},{id:"duration",name:"Duration (days)",field:"duration",sortable:!0,minWidth:100},{id:"%",name:"% Complete",field:"percentComplete",sortable:!0,minWidth:100},{id:"start",name:"Start",field:"start",minWidth:100},{id:"finish",name:"Finish",field:"finish",minWidth:100},{id:"effort-driven",name:"Effort Driven",field:"effortDriven",sortable:!0,minWidth:100}],this.gridOptions1={enableAutoResize:!0,autoResize:{container:"#demo-container",rightPadding:10},enableSorting:!0}}defineGrid2(){this.columnDefinitions2=[{id:"name",name:"Name",field:"name",filterable:!0,sortable:!0},{id:"gender",name:"Gender",field:"gender",filterable:!0,sortable:!0,filter:{model:b.x$p.singleSelect,collection:[{value:"",label:""},{value:"male",label:"male"},{value:"female",label:"female"}]}},{id:"company",name:"Company",field:"company",filterable:!0,sortable:!0}],this.gridOptions2={enableAutoResize:!0,autoResize:{container:"#demo-container",rightPadding:10},enableFiltering:!0,enableSorting:!0}}mockData(){const t=[];for(let e=0;e<1e3;e++){const r=2e3+Math.floor(10*Math.random()),n=Math.floor(11*Math.random()),i=Math.floor(29*Math.random()),s=Math.round(100*Math.random());t[e]={id:e,title:"Task "+e,duration:Math.round(100*Math.random())+"",percentComplete:s,start:`${n}/${i}/${r}`,finish:`${n}/${i}/${r}`,effortDriven:e%5==0}}return t}resizeGrid2(){this.aureliaGrid2.resizerService.resizeGrid(10)}};T=(0,i.gn)([(0,s.MoW)(n),(0,i.fM)(0,(0,f.pZ)(p.tL)),(0,i.w6)("design:paramtypes",[Object])],T)},96340:(t,e,r)=>{r.d(e,{AV:()=>i,tL:()=>u});var n=r(39344);function i(t,e){return JSON.stringify(void 0!==t?t:{},e)}const s={maxRetries:3,interval:1e3,strategy:0};class a{constructor(t){if(this.retryConfig={...s,...void 0!==t?t:{}},2===this.retryConfig.strategy&&this.retryConfig.interval<=1e3)throw new Error("An interval less than or equal to 1 second is not allowed when using the exponential retry strategy")}request(t){return t.retryConfig||(t.retryConfig={...this.retryConfig},t.retryConfig.counter=0),t.retryConfig.requestClone=t.clone(),t}response(t,e){return Reflect.deleteProperty(e,"retryConfig"),t}responseError(t,e,r){const{retryConfig:n}=e,{requestClone:i}=n;return Promise.resolve().then((()=>{if(n.counter<n.maxRetries){const s=void 0===n.doRetry||n.doRetry(t,e);return Promise.resolve(s).then((s=>{if(s){n.counter++;const t=o(n);return new Promise((e=>setTimeout(e,isNaN(t)?0:t))).then((()=>{const t=i.clone();return"function"==typeof n.beforeRetry?n.beforeRetry(t,r):t})).then((t=>{const e={...t,retryConfig:n};return r.fetch(e)}))}throw Reflect.deleteProperty(e,"retryConfig"),t}))}throw Reflect.deleteProperty(e,"retryConfig"),t}))}}function o(t){const{interval:e,strategy:r,minRandomInterval:n,maxRandomInterval:i,counter:s}=t;if("function"==typeof r)return t.strategy(s);switch(r){case 0:return l[0](e);case 1:return l[1](s,e);case 2:return l[2](s,e);case 3:return l[3](s,e,n,i);default:throw new Error("Unrecognized retry strategy")}}const l=[t=>t,(t,e)=>e*t,(t,e)=>1===t?e:e**t/1e3,(t,e,r=0,n=6e4)=>Math.random()*(n-r)+r];class c{constructor(){this.baseUrl="",this.defaults={},this.interceptors=[],this.dispatcher=null}withBaseUrl(t){return this.baseUrl=t,this}withDefaults(t){return this.defaults=t,this}withInterceptor(t){return this.interceptors.push(t),this}useStandardConfiguration(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()}rejectErrorResponses(){return this.withInterceptor({response:d})}withRetry(t){const e=new a(t);return this.withInterceptor(e)}withDispatcher(t){return this.dispatcher=t,this}}function d(t){if(!t.ok)throw t;return t}const h=/^([a-z][a-z0-9+\-.]*:)?\/\//i,u=n.DI.createInterface("IHttpClient",(t=>t.singleton(p)));class p{constructor(){this.dispatcher=null,this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[]}configure(t){let e;if("object"==typeof t)e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");{e=new c,e.baseUrl=this.baseUrl,e.defaults={...this.defaults},e.interceptors=this.interceptors,e.dispatcher=this.dispatcher;const r=t(e);Object.prototype.isPrototypeOf.call(c.prototype,r)&&(e=r)}}const r=e.defaults;if(void 0!==r&&Object.prototype.isPrototypeOf.call(Headers.prototype,r.headers))throw new Error("Default headers must be a plain object.");const n=e.interceptors;if(void 0!==n&&n.length){if(n.filter((t=>Object.prototype.isPrototypeOf.call(a.prototype,t))).length>1)throw new Error("Only one RetryInterceptor is allowed.");const t=n.findIndex((t=>Object.prototype.isPrototypeOf.call(a.prototype,t)));if(t>=0&&t!==n.length-1)throw new Error("The retry interceptor must be the last interceptor defined.")}return this.baseUrl=e.baseUrl,this.defaults=r,this.interceptors=void 0!==e.interceptors?e.interceptors:[],this.dispatcher=e.dispatcher,this.isConfigured=!0,this}fetch(t,e){this.trackRequestStart();let r=this.buildRequest(t,e);return this.processRequest(r,this.interceptors).then((t=>{let e;if(Object.prototype.isPrototypeOf.call(Response.prototype,t))e=Promise.resolve(t);else{if(!Object.prototype.isPrototypeOf.call(Request.prototype,t))throw new Error(`An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got [${t}]`);r=t,e=fetch(r)}return this.processResponse(e,this.interceptors,r)})).then((t=>Object.prototype.isPrototypeOf.call(Request.prototype,t)?this.fetch(t):t)).then((t=>(this.trackRequestEnd(),t)),(t=>{throw this.trackRequestEnd(),t}))}buildRequest(t,e){const r=null!==this.defaults?this.defaults:{};let n,i,s;const a=function(t){const e={},r=void 0!==t?t:{};for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]="function"==typeof r[t]?r[t]():r[t]);return e}(r.headers);if(Object.prototype.isPrototypeOf.call(Request.prototype,t))n=t,s=new Headers(n.headers).get("Content-Type");else{e||(e={}),i=e.body;const a=void 0!==i?{body:i}:null,o={...r,headers:{},...e,...a};s=new Headers(o.headers).get("Content-Type"),n=new Request(f(this.baseUrl,t),o)}return s||(new Headers(a).has("content-type")?n.headers.set("Content-Type",new Headers(a).get("content-type")):void 0!==i&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(i)&&n.headers.set("Content-Type","application/json")),function(t,e){const r=void 0!==e?e:{};for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&!t.has(e)&&t.set(e,r[e])}(n.headers,a),void 0!==i&&Object.prototype.isPrototypeOf.call(Blob.prototype,i)&&i.type&&n.headers.set("Content-Type",i.type),n}get(t,e){return this.fetch(t,e)}post(t,e,r){return this.callFetch(t,e,r,"POST")}put(t,e,r){return this.callFetch(t,e,r,"PUT")}patch(t,e,r){return this.callFetch(t,e,r,"PATCH")}delete(t,e,r){return this.callFetch(t,e,r,"DELETE")}trackRequestStart(){if(this.isRequesting=!!++this.activeRequestCount,this.isRequesting&&null!==this.dispatcher){const t=new this.dispatcher.ownerDocument.defaultView.CustomEvent("aurelia-fetch-client-request-started",{bubbles:!0,cancelable:!0});setTimeout((()=>{this.dispatcher.dispatchEvent(t)}),1)}}trackRequestEnd(){if(this.isRequesting=!! --this.activeRequestCount,!this.isRequesting&&null!==this.dispatcher){const t=new this.dispatcher.ownerDocument.defaultView.CustomEvent("aurelia-fetch-client-requests-drained",{bubbles:!0,cancelable:!0});setTimeout((()=>{this.dispatcher.dispatchEvent(t)}),1)}}processRequest(t,e){return this.applyInterceptors(t,e,"request","requestError",this)}processResponse(t,e,r){return this.applyInterceptors(t,e,"response","responseError",r,this)}applyInterceptors(t,e,r,n,...i){return(void 0!==e?e:[]).reduce(((t,e)=>{const s=e[r],a=e[n];return t.then(s?t=>s.call(e,t,...i):b,a?t=>a.call(e,t,...i):y)}),Promise.resolve(t))}callFetch(t,e,r,n){return r||(r={}),r.method=n,e&&(r.body=e),this.fetch(t,r)}}function f(t,e){return h.test(e)?e:(void 0!==t?t:"")+e}function b(t){return t}function y(t){throw t}}}]);